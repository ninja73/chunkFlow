syntax = "proto3";

package storage;
option go_package = "pkg/proto/storagepb";

service StorageService {
  rpc UploadChunk(stream ChunkChunk) returns (UploadAck);
  rpc DownloadChunk(ChunkRequest) returns (stream ChunkChunk);
}

message ChunkChunk {
  string file_id = 1;
  int32 chunk_index = 2;
  bytes data = 3;
}

message ChunkRequest {
  string file_id = 1;
  int32 chunk_index = 2;
}

message UploadAck {
  bool ok = 1;
  string msg = 2;
}